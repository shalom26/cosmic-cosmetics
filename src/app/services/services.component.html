<div class="services-container">
  <div class="row">
    <div class="col-sm-1">
      &nbsp;
    </div>
    <div class="col-sm-10" align="center">
      <div class="header"><h2>ניהול טיפולים</h2></div>
    </div>
    <div class="col-sm-1">
      &nbsp;
    </div>
  </div>
    <div class="row">
      <div class="col-sm-1">
        <button md-fab color="accent" (click)="addService()">+</button>
      </div>
      <div class="col-sm-10">
        <div class="services-table">
          <ngx-datatable
            #mydatatable
            class="material"
            [headerHeight]="50"
            [limit]="5"
            [columnMode]="'force'"
            [footerHeight]="50"
            [rowHeight]="'auto'"
            [rows]="rows">
            <ngx-datatable-column name="סוג הטיפול" prop="service_name">
              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-name'] = true"
                    *ngIf="!editing[rowIndex + '-name']">
                    {{value}}
                  </span>
                <input
                  autofocus
                  (blur)="updateValue($event, 'service_name', rowIndex)"
                  *ngIf="editing[rowIndex+ '-name']"
                  type="text"
                  [value]="value"
                />
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="אייקון" prop="icon_name">
              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                <ng2-dropdown>
                  <ng2-dropdown-button>
                    <div class="icon-container">
                      <img [src]="url + value" class="icon">
                    </div>
                  </ng2-dropdown-button>
                  <ng2-dropdown-menu>
                    <ng2-menu-item *ngFor="let icon of icons" (click)="selectIcon(icon,'icon_name',rowIndex)">
                      <!--Todo fix image size-->
                      <div class="icon-container">
                        <img [src]="url + icon" class="icon">
                      </div>
                    </ng2-menu-item>
                  </ng2-dropdown-menu>
                </ng2-dropdown>
              </ng-template>
            </ngx-datatable-column>

            <ngx-datatable-column name="מחיר">
              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-price'] = true"
                    *ngIf="!editing[rowIndex + '-price']">
                    {{value}}
                  </span>
                <input
                  autofocus
                  (blur)="updateValue($event, 'price', rowIndex)"
                  *ngIf="editing[rowIndex+ '-price']"
                  type="text"
                  [value]="value"
                />
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="משך זמן (דקות)" prop="duration_in_minutes">
              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-duration'] = true"
                    *ngIf="!editing[rowIndex + '-duration']">
                    {{value}}
                  </span>
                <input
                  autofocus
                  (blur)="updateValue($event, 'duration_in_minutes', rowIndex)"
                  *ngIf="editing[rowIndex+ '-duration']"
                  type="text"
                  [value]="value"
                />
              </ng-template>
            </ngx-datatable-column>
          </ngx-datatable>
        </div>
      </div>
      <div class="col-sm-1">
        &nbsp;
      </div>
    </div>
</div>
