<div class="services-container">
  <div class="row">
    <div class="col-sm-1">
      &nbsp;
    </div>
    <div class="col-sm-10" align="center">
      <div class="header"><h2>ניהול לקוחות</h2></div>
    </div>
    <div class="col-sm-1">
      &nbsp;
    </div>
  </div>
  <div class="row">
    <div class="col-sm-1">
      <button md-fab color="accent" (click)="addClient()">+</button>
    </div>
    <div class="col-sm-10">
      <div class="services-table">
        <ngx-datatable
          #mydatatable
          class="material"
          [headerHeight]="50"
          [limit]="5"
          [columnMode]="'force'"
          [footerHeight]="50"
          [rowHeight]="'auto'"
          [rows]="rows">
          <ngx-datatable-column name="שם" prop="full_name">
            <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-full_name'] = true"
                    *ngIf="!editing[rowIndex + '-full_name']">
                    {{value}}
                  </span>
              <input
                autofocus
                (blur)="updateValue($event, 'full_name', rowIndex)"
                *ngIf="editing[rowIndex+ '-full_name']"
                type="text"
                [value]="value"
              />
            </ng-template>
          </ngx-datatable-column>
          <ngx-datatable-column name="טלפון" prop="phone_number">
            <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-phone_number'] = true"
                    *ngIf="!editing[rowIndex + '-phone_number']">
                    {{value}}
                  </span>
              <input
                autofocus
                (blur)="updateValue($event, 'phone_number', rowIndex)"
                *ngIf="editing[rowIndex+ '-phone_number']"
                type="text"
                [value]="value"
              />
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="אימייל" prop="email">
            <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-email'] = true"
                    *ngIf="!editing[rowIndex + '-email']">
                    {{value}}
                  </span>
              <input
                autofocus
                (blur)="updateValue($event, 'email', rowIndex)"
                *ngIf="editing[rowIndex+ '-email']"
                type="text"
                [value]="value"
              />
            </ng-template>
          </ngx-datatable-column>
          <ngx-datatable-column name="יום הולדת" prop="birthday">
            <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
              <div class="date-container">
                <!--DatePicker button-->
                <div class="col-xs-6 col-6 col-md-4 col-lg-4">
                  <input class="form-control date-input"
                         type="text"
                         bsDatepicker
                         #dp="bsDatepicker"
                         [bsConfig]="bsConfig"
                         [bsValue]="value"
                         (bsValueChange)="updateValue($event, 'birthday', rowIndex)">
                    <button class="btn btn-info btn-sm" (click)="dp.show() ">Open</button>
                </div>
                <!--Date display-->
                <span>
                    {{value | amDateFormat:'LL'}}
                  </span>
              </div>
              <!--<input-->
              <!--autofocus-->
              <!--(blur)="updateValue($event, 'birthday', rowIndex)"-->
              <!--*ngIf="editing[rowIndex+ '-birthday']"-->
              <!--type="text"-->
              <!--[value]="value"/>-->
            </ng-template>
          </ngx-datatable-column>
        </ngx-datatable>
      </div>
    </div>
    <div class="col-sm-1">
      &nbsp;
    </div>
  </div>

</div>
